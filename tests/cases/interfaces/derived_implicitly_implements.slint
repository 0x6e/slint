// Copyright © 2026 Klarälvdalens Datakonsult AB, a KDAB Group company <info@kdab.com>, author Nathan Collins <nathan.collins@kdab.com>
// SPDX-License-Identifier: GPL-3.0-only OR LicenseRef-Slint-Royalty-free-2.0 OR LicenseRef-Slint-Software-3.0

interface InterfaceWithDefaults {
    in-out property <string> text: "Hello";
    out property <bool> enabled: true;
    in property <int> precision: 2;
    in property <float> confidence: 1.0;

    public pure function length(text: string) -> int;
    callback checked();
}

component Base {

    public pure function length(text: string) -> int {
        text.character-count
    }

    in-out property <string> text: "Hello";
    out property <bool> enabled: true;
    // Base does not provide a default value for precision
    in property <int> precision;
    // Base provides its own default value for confidence
    in property <float> confidence: 0.5;

    callback checked();

    @children
}

export component TestCase implements InterfaceWithDefaults inherits Base {

    // Explicitly override the InterfaceWithDefaults default for precision
    precision: 3;

    // We expect to be using our explicitly override for precision and the InterfaceWithDefaults value for confidence
    out property <bool> test: self.text == "Hello" && self.enabled && self.precision == 3 && self.confidence == 1;
}

/*
```rust
let instance = TestCase::new().unwrap();
// TODO: Interface properties aren't part of the public API
// assert_eq!(instance.get_text(), "Hello");
// assert_eq!(instance.get_enabled(), true);
// assert_eq!(instance.get_precision(), 2);
// assert_eq!(instance.get_confidence(), 0.5);
assert!(instance.get_test());
```

```cpp
auto handle = TestCase::create();
const TestCase &instance = *handle;
// TODO: Interface properties aren't part of the public API
// assert_eq(instance.get_text(), "Hello");
// assert_eq(instance.get_enabled(), true);
// assert_eq(instance.get_precision(), 2);
// assert_eq(instance.get_confidence(), 0.5);
assert(instance.get_test());
```

```js
var instance = new slint.TestCase({});
// TODO: Interface properties aren't part of the public API
// assert.equal(instance.text, "Hello");
// assert.equal(instance.enabled, true);
// assert.equal(instance.precision, 2);
// assert.equal(instance.confidence, 0.5);
assert(instance.test);
```
*/
